\newcommand{\doctitle}{ディスプレイ数式内に句読点を入れるべきか}
\newcommand{\docsubject}{句読点を入れるべきならば、どのような LaTeX 命令を使うべきか}
\newcommand{\docauthor}{Tamaki ISII}
\documentclass{mystyle}

\begin{document}
\mymaketitle
\begin{section}{始めに}
大学生となった去年(2023)は、数学に関する文書を \LaTeX\space で作成することが増えた年であった。
しかし、数学的文書を作成するうえで一つとても疑問に思う問題ができた。
それは、``ディスプレイ数式内に句読点を入れるべきか、そうでないか問題''である。
\end{section}
\begin{section}{考察}
学術分野ではディスプレイ数式に句読点(カンマ、ピリオド)を付ける派が多いようだ。
実際、数学の論文や、大学の教科書を見てみると、ほとんどはディスプレイ数式の最後に句読点が付いている。
このことからも、ディスプレイ数式に句読点を付ける派が多いこと分かる。

しかし、アメリカ科学会のスタイルガイドにはディスプレイ数式に句読点を付けるべきではないと書かれていることからも、句読点を付けない派も存在することがわかる、

ここで、句読点を付ける派と付けない派の二つの派閥が存在することが判明したが、私はディスプレイ数式に句読点は付けるべきでないと考える。以下、三つの理由を述べる。

一つ目の理由は、ディスプレイ数式の後に句読点を置かなくても文章の読解は可能だからである。

ディスプレイ数式の後に暗黙的な句読点が存在していると解釈すれば、明示的な句読点がなくても文章を自然に読解することができる。

二つ目の理由は、ディスプレイ内に数式ではない句読点を置くことは、文章構造を不明瞭にするからである。

ディスプレイするということは、その時点でディスプレイ部分を暗にグループ化しているため、グループ外の句読点をディスプレイ内部に置くことは問題である。

これは、``私が書いた日本語は、「りんごとみかん」。''という文の`。'を`」'の中に押し込めて``私が書いた日本語は、「りんごとみかん。」''と書くことは、正確性の観点から問題であることと、同種の問題である。

加えて、ディスプレイするという行為は、読者に対してその内部には数式のみがあると暗に提示しているのだから、数学的な意味を持たない句読点を挿入することは不適当である。

さらに、句読点を付けたディスプレイ数式にラベルを付けたとき、厳密に解釈すれば、末尾の句読点にまでラベルを付けていることになり、これもまた不適当である。

具体的には、
$$1+1=2.\eqno{\hbox{(A)}}$$
と書いたとき、(A)を参照すると``1+1=2''が参照されるのではなく、ピリオドまで含めた``1+1=2.''が参照されてしまうということだ。

三つ目の理由は、見栄えを悪くしたり、見間違えを誘発したりする可能性があるからである。

数式中では句読点が本来の意味とは違う意味で使われることがある。
例えば、ピリオドは小数点記号に、コンマは座標の区切りなどに使われる。

また、句読点に似た記号もよく使われる。
例えば、`$\cdot$'は形状がピリオドに似ている。

この様な状況で、ディスプレイ数式の末尾に句読点を挿入すると、見栄えが悪くなり、誤植のように見えたりする。

具体的には、
$$\frac{3}{2}=1.5.$$
や
$$a_{i\cdot j}=b_k.$$
は、小数点が二重になっているように見えたり、``$k\cdot$''の後に変数を書き忘れたかのように誤解を与えたりする可能性がある。

さらに、一部のプログラミング言語では、$1$と$1.$をそれぞれ、整数型の$1$、浮動小数型の$1$といったように区別することがある。
ディスプレイ数式に句読点を付ける場合、これらの表現を使用することは困難になる。

具体的には、
$$1.$$
と書いたとき、それが$1$にピリオドを付けたものか、浮動小数型の$1$かを区別できなくなる。

ここまで句読点を付けることに批判的な意見を述べたが、ディスプレイ数式に句読点があることで文書が読みやすくなるという意見には一理あると考える。
そのため、ディスプレイ数式に句読点を付けたほうが良い場面も存在すると考える。
加えて、文書のスタイルが指定されている場合など句読点を付けざるを得ない場合も存在する。

そのような場面でどの様な \LaTeX\space 命令を使用するのが適切であるかを次章で述べる。
\end{section}
\begin{section}{適切な LaTeX 命令}
前章で述べたデメリットは、句読点と数式の間に適切な空白を入れ、句読点を数式の一部ではないと認識させることで回避可能である。

さらに、それらのデメリットはインライン数式でも起こり得ることだが、\verb|\mathsurround| (ただし、デフォルト値は \verb|0pt|) を設定することで適切なスペースを自動的に挿入できる。

これらのことから、\verb|\mathsurround| が設定されている場合は、ディスプレイ数式でも少なくとも \verb|\mathsurround| 分の空白を確保することが望ましい。

加えて、ディスプレイ数式と周囲のバランスから、\verb|\mathsurround| が設定されていない場合、設定されている場合でも通常は \verb|\quad| 分の空白を確保することが望ましいと考える。

これらのことを実現するには、命令を次のように定義して使用すればよい。

\verb|\def\period{\hskip\mathsurround.}| 又は、\verb|\def\period{\quad.}|

\verb|\def\comma{\hskip\mathsurround,}| 又は、\verb|\def\comma{\quad,}|

使用例コード:\verb|\def\period{\quad.}$$1+1=2\period$$|

使用例:\def\period{\quad.}$$1+1=2\period$$

しかし、これらのコマンドを一部の環境で用いると句読点と空白が数式が中心から左にずらしてしまい、数式ではない句読点が数式に影響を与えているという点で、文章構造に反する。

だが、この問題は、命令を \verb|\def\lapperiod{\rlap{\quad.}}| のように定義してこれを適時使用することで解決できる。

使用例コード:\verb|\def\period{\quad.}\def\lapperiod{\rlap{\quad.}}$$1+1=2\period$$では左にずれるが$$1+1=2\lapperiod$$は中心のまま。|

使用例:\def\period{\quad.}\def\lapperiod{\rlap{\quad.}}$$1+1=2\period$$では左にずれるが$$1+1=2\lapperiod$$は中心のまま。

\end{section}
\end{document}
